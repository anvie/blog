<!-- http://ogp.me/ -->
<!-- https://developers.facebook.com/docs/sharing/webmasters -->
{{- $ := index . "$" -}}
{{- $description := .description -}}
<!-- Date -->
{{- $dates := partial "utils/date.html" $ -}}
<!-- Author -->
{{- $author := partial "utils/author.html" $ -}}
<!-- Images -->
{{- $images := partial "utils/images.html" $ -}}

<meta property="og:title" content="{{ (partial "utils/title.html" (dict "$" $ "title" $.Title)).rawTitle }}" />
<meta property="og:description" content="{{ $description }}" />
<meta property="og:url" content="{{ $.Permalink }}" />
<meta property="og:site_name" content="{{ $.Site.Title }}" />
<meta property="og:locale" content="{{ $.Site.Language.Lang }}" />

{{- with $images -}}
    {{ $img := index . 0 }}
    <meta property="og:image" content="{{ $img }}" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    {{ if or (strings.HasSuffix $img ".jpg") (strings.HasSuffix $img ".jpeg") }}
    <meta property="og:image:type" content="image/jpeg" />
    {{ else }}
    <meta property="og:image:type" content="image/png" />
    {{ end }}
{{ else -}}
    {{ with $.Site.Params.siteLogo -}}
        <meta property="og:image" content="{{ . | absURL }}" />
    {{ end -}}
{{- end -}}

{{- if and $.IsPage (in $.Site.Params.mainSections $.Section) -}}
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="{{ $dates.pubDate }}" />
    <meta property="article:modified_time" content="{{ $dates.modDate }}" />
    {{ if not $.ExpiryDate.IsZero -}}
        <meta property="article:expiration_time" content="{{ $.ExpiryDate.Format "2006-01-02T15:04:05-07:00" }}" />
    {{- end }}
    <meta property="article:section" content="{{ $.Section }}" />
{{ else -}}
    <meta property="og:type" content="website" />
{{- end }}

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{{ (partial "utils/title.html" (dict "$" $ "title" $.Title)).rawTitle }}" />
<meta name="twitter:description" content="{{ $description }}" />
{{- with $images -}}
    <meta name="twitter:image" content="{{ index . 0 }}" />
{{- else -}}
    {{ with $.Site.Params.siteLogo -}}
        <meta name="twitter:image" content="{{ . | absURL }}" />
    {{- end -}}
{{- end -}}
